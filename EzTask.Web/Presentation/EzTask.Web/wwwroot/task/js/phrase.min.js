function setPhraseModalValue(n,t){if($("#phrase-modal .project-id").val(n),$("#phrase-modal .phrase-id").val(t),t===0){$(".phrase-status-form").hide();var i=new Date;$("#inputPhraseName").val("");$("#phrase-modal #inputStartDate").val(i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear());$("#phrase-modal #inputEndDate").val(i.getDate()+1+"/"+(i.getMonth()+1)+"/"+i.getFullYear())}else $(".phrase-status-form").show(),$("#inputPhraseName").val($("#phrase-name").val()),$("#phrase-modal #inputStartDate").val($("#phrase-startdate").val()),$("#phrase-modal #inputEndDate").val($("#phrase-enddate").val())}function formatDate(n){var t=new Date(n);return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()}$.fn.showModal=function(){$(this).click(function(){var n=0,t;$(this).hasClass("edit-phrase")&&(n=$("#phrase-id").val());t=$(".project-list").val();setPhraseModalValue(t,n);$.showDialog({dialogId:"phrase-modal",title:"Add new phrase"})})};$.fn.phraseModalAction=function(){$(this).click(function(n){n.preventDefault();var t=$("#phrase-form");t.valid()&&$.ajax({type:"post",url:"task/phrase-modal-action.html",data:t.serialize(),success:function(n){var t=$(".phrase-list-panel");t.html("");t.html(n);$(".phrase-list > li > a").loadTask();$.closeDialog("phrase-modal")},error:function(){$("#phrase-modal .error-message").text("Error, EzTask cannot create phrase. Try again please !")}})})};$.fn.removePhrase=function(){$(this).click(function(){$.confirmDialog({title:"Warning",content:"All tasks which related to this phrase will be removed. Are you sure to continue?",action:function(){$.showLoading();$.ajax({type:"post",url:"task/delete-phrase.html",data:{phraseId:$("#phrase-id").val()},success:function(){$(".project-list").change();$.hideLoading()},error:function(n){$.hideLoading();$.alertDialog({title:"Error",content:n.responseText})}})}})})};$(function(){$(".btn-addnew-phrase").showModal();$(".edit-phrase").showModal();$("#phrase-modal .btn-confirm").phraseModalAction();$.triggerCloseDialog("phrase-modal");$(".remove-phrase").removePhrase()});