function handleLoadTask(n,t){$.ajax({url:"task/task-list.html",data:{projectId:n,phraseId:t},success:function(n){var t=$(".task-list-panel");t.html("");t.html(n);jQueryBinding()}})}function loadTask(n){var t=$(n).attr("data-id"),i=$(".project-list").val();handleLoadTask(i,t)}function refreshTask(){var n=$("#phrase-id").val(),t=$(".project-list").val();handleLoadTask(n,n)}function DeleteTask(){var t=$(".task-table input[type='checkbox']").prop("checked"),n;t&&(n=[],$(".task-table input[type='checkbox']").each(function(){var t=$(this),i;t.prop("checked")&&(i=t.attr("data-id"),n.push(i))}),DoAjax("taskitem/generate-view.html","POST",{ids:n},function(){refreshTask()},function(){}))}function jQueryBinding(){$(".search-task").searchTask();$(".checkbox-toggle").checkboxtoggle();$('.task-table input[type="checkbox"]').registeriCheck()}$.fn.searchTask=function(){$(this).keyup(function(){var u,f,e,t,i,n,r;for(u=this,f=u.value.toUpperCase(),e=$(".task-table > table")[0],t=e.getElementsByTagName("tr"),n=0;n<t.length;n++)for(i=t[n].getElementsByTagName("td"),j=1;j<i.length;j++)if(r=i[j],r)if(r.innerText.toUpperCase().indexOf(f)>-1){t[n].style.display="";break}else t[n].style.display="none"})};$.fn.loadPhrase=function(){$(this).change(function(){var n=$(this).val();$.ajax({url:"task/phrase-list.html",data:{projectId:n},success:function(t){var i=$(".phrase-list-panel"),r,u;i.html("");i.html(t);r=$(".phrase-list > li > a").first();u=r.attr("data-id");handleLoadTask(n,u)}})})};$.fn.registeriCheck=function(){$(this).iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"})};$.fn.checkboxtoggle=function(){$(this).click(function(){var n=$(this).data("clicks");n?($(".task-table input[type='checkbox']").iCheck("uncheck"),$(".fa",this).removeClass("fa-check-square-o").addClass("fa-square-o")):($(".task-table input[type='checkbox']").iCheck("check"),$(".fa",this).removeClass("fa-square-o").addClass("fa-check-square-o"));$(this).data("clicks",!n)})};$(function(){$(".project-list").loadPhrase();jQueryBinding()});