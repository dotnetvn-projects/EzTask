$.fn.handleLoadTask=function(n,t){$.ajax({url:"task/task-list.html",data:{projectId:n,phraseId:t},success:function(n){var t=$(".task-list-panel");t.html("");t.html(n);$(this).handleEvent()}})};$.fn.searchTask=function(){$(this).keyup(function(){var u,f,e,t,i,n,r;for(u=this,f=u.value.toUpperCase(),e=$(".task-table > table")[0],t=e.getElementsByTagName("tr"),n=0;n<t.length;n++)for(i=t[n].getElementsByTagName("td"),j=1;j<i.length;j++)if(r=i[j],r)if(r.innerText.toUpperCase().indexOf(f)>-1){t[n].style.display="";break}else t[n].style.display="none"})};$.fn.loadPhrase=function(){$(this).change(function(){var n=$(this).val();$.ajax({url:"task/phrase-list.html",data:{projectId:n},success:function(t){var i=$(".phrase-list-panel"),r,u;i.html("");i.html(t);r=$(".phrase-list > li > a").first();u=r.attr("data-id");$(this).handleLoadTask(n,u);$(".phrase-list > li > a").loadTask()}})})};$.fn.loadTask=function(){$(this).click(function(){var n=$(this).attr("data-id"),t=$(".project-list").val();$(this).handleLoadTask(t,n)})};$.fn.refreshTask=function(){$(this).click(function(){var n=$("#phrase-id").val(),t=$(".project-list").val();$(this).handleLoadTask(t,n)})};$.fn.deleteTask=function(){$(this).click(function(){var t=$(".task-table input:checkbox:checked").length>0,n;t?(n=[],$(".task-table input[type='checkbox']").each(function(){var t=$(this),i;t.prop("checked")&&(i=t.attr("data-id"),n.push(i))}),$.showDialog({dialogId:"modal-confirm",content:"Do you wanna delete ?",confirmAction:function(){$.showLoading();$.ajax({type:"post",url:"task/delete-task.html",data:{taskIds:n},success:function(){var n=$("#phrase-id").val(),t=$(".project-list").val();$(this).handleLoadTask(t,n);$.closeDialog("modal-confirm");$.hideLoading()},error:function(){}})}})):$.showDialog({dialogId:"modal-warning",content:"No items to delete, please select at least 1 item."})})};$.fn.registeriCheck=function(){$(this).iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"})};$.fn.checkboxtoggle=function(){$(this).click(function(){var n=$(this).data("clicks");n?($(".task-table input[type='checkbox']").iCheck("uncheck"),$(".fa",this).removeClass("fa-check-square-o").addClass("fa-square-o")):($(".task-table input[type='checkbox']").iCheck("check"),$(".fa",this).removeClass("fa-square-o").addClass("fa-check-square-o"));$(this).data("clicks",!n)})};$.fn.handleEvent=function(){$(".search-task").searchTask();$(".checkbox-toggle").checkboxtoggle();$('.task-table input[type="checkbox"]').registeriCheck();$(".btn-addnew-task").showAddNewModal();$(".btn-delete-task").deleteTask();$(".btn-refresh-task").refreshTask();$(".task-list > tbody > tr").showEdit()};$(function(){$(".project-list").loadPhrase();$(this).handleEvent()});