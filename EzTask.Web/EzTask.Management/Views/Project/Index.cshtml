@using EzTask.Management.Models.Project
@model IEnumerable<List<ProjectModel>>
@{ 
    var nothingToShow = (Model == null || !Model.Any());
    var boxStyle = nothingToShow?"box":"";
    
}
@section header{
    <h1>
        Project
        <small>your current projects</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="/"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li class="active">Project</li>
    </ol>
}

<div class="@boxStyle box-primary">
    <div class="box-header">
        <i class="fa fa-bandcamp"></i>
        <h3 class="box-title">You have 9 projects</h3>
        <a asp-action="CreateNew" asp-controller="Project" class="btn bg-orange btn-flat pull-right">
            <i class="fa fa-plus"></i>
            <span class="space-left">Create new</span>
        </a>
        <div class="project-status">
            <span class="space-right">Status Color: </span>
            <h3 class="box-title bg-primary">Pending</h3>
            <h3 class="box-title bg-green">Completed</h3>
            <h3 class="box-title bg-yellow">Cancel</h3>
            <h3 class="box-title bg-red">Failed</h3>
            <h3 class="box-title bg-info-color">Implementing</h3>
        </div>
    </div>
    <div class="box-body">
        @if (nothingToShow)
        {
            <div class="box-header with-border">
                <h3><i class="fa fa-frown-o"></i><span class="space-left">Ops! There is nothing to display right now</span></h3>
                <span>Click <a asp-action="CreateNew" asp-controller="Project">here</a> to create a new project</span>
            </div>
        }
        else
        {
            foreach (var projects in Model)
            { 
                <div class="row">
                    @foreach (var item in projects)
                    {

                    <div class="col-md-3">
                        <div class="box box-@item.BoxType direct-chat direct-chat-@item.BoxType">
                            <div class="box-header with-border">
                                <h3 class="box-title">@item.ProjectCode</h3>

                                <div class="box-tools pull-right">
                                    <span data-toggle="tooltip" title="EzTask#001 has 9 tasks" class="badge bg-@item.Color" data-original-title="EzTask#001 has 9 tasks">20</span>
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-minus"></i>
                                    </button>
                                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip" title="member list" data-widget="chat-pane-toggle" data-original-title="Contacts">
                                        <i class="fa fa-user"></i>
                                    </button>
                                    <button type="button" class="btn btn-box-tool" title="Delete"><i class="fa fa-times"></i></button>
                                </div>
                            </div>
                            <!-- /.box-header -->
                            <div class="box-body" style="">
                                <div class="project-item">
                                    <div>
                                        <i class="fa fa-book"></i><span class="space-left"><b>Project Name</b>:</span>
                                        <div class="name">
                                            <span>@item.ProjectName</span>
                                        </div>
                                    </div>

                                    <div>
                                        <i class="fa fa-audio-description"></i><span class="space-left"><b>Project Description</b>:</span>
                                        <div class="description">
                                            <span>@item.Description</span>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa fa-user-circle"></i><span class="space-left"><b>Owner</b>:</span>
                                        <div class="description">
                                            <span>@item.Owner.DisplayName is owner of project</span>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa fa-calendar"></i><span class="space-left"><b>Created date</b>:</span>
                                        <div class="description">
                                            <span>Project was created at @item.CreatedDate.ToString("MM/dd/yyyy")</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="direct-chat-contacts">
                                    <ul class="contacts-list">
                                        <li>
                                            <a href="#">
                                                <img class="contacts-list-img" src="~/themes/dist/img/user1-128x128.jpg" alt="User Image">

                                                <div class="contacts-list-info">
                                                    <span class="contacts-list-name">
                                                        Linh Pham
                                                        <small class="contacts-list-date pull-right">2/28/2015</small>
                                                    </span>
                                                    <span class="contacts-list-msg">Linh pham is having 9 tasks</span>
                                                </div>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- /.box-body -->
                            <div class="box-footer" style="">
                                <i class="fa fa-circle text-@item.Color"></i><span class="space-left">@item.Status.ToString()</span>
                                <a class="btn btn-flat btn-@item.BoxType btn-sm pull-right">
                                    <i class="fa fa-paper-plane-o"></i>
                                    <span class="space-left">View Detail</span>
                                </a>
                            </div>
                            <!-- /.box-footer-->
                        </div>
                    </div>
                    }
                </div>
            }
        }
    </div>
</div>